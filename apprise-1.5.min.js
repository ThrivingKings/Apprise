function apprise(h,a,f){function m(){var a=i($(".aTextbox").val());"true"==a?(d=$(".aTextbox").val(),k=!0,$(".aTextbox").removeClass("aInvalid"),$(".aOkButton").removeAttr("disabled"),$("#aErrorMessage").text("")):(d="",k=!1,$(".aTextbox").addClass("aInvalid"),$(".aOkButton").attr("disabled","disabled"),$("#aErrorMessage").text(a))}var b={confirm:!1,verify:!1,input:!1,animate:!1,textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No",position:"center"};if(a)for(var g in b)"undefined"==typeof a[g]&&
(a[g]=b[g]);g=$(document).height();var n=$(document).width(),c=$('<div class="appriseOuter"></div>'),l=$('<div class="appriseOverlay" id="aOverlay"></div>'),j=$('<div class="appriseInner"></div>'),e=$('<div class="aButtons"></div>'),b=100;l.css({height:g,width:n}).appendTo("body").fadeIn(100,function(){$(this).css("filter","alpha(opacity=70)")});c.appendTo("body");j.append(h).appendTo(c);a&&a.input&&("string"==typeof a.input?j.append('<div class="aInput"><div class="aError"><span id="aErrorMessage"></span></div><input type="text" class="aTextbox" t="aTextbox" value="'+
a.input+'" /></div>'):j.append('<div class="aInput"><div class="aError"><span id="aErrorMessage"></span></div><input type="text" class="aTextbox" t="aTextbox" /></div>'));j.append(e);a?a.confirm||a.input?(e.append('<button class="aOkButton" value="ok">'+a.textOk+"</button>"),e.append('<button value="cancel">'+a.textCancel+"</button>")):a.verify?(e.append('<button class="aOkButton" value="ok">'+a.textYes+"</button>"),e.append('<button value="cancel">'+a.textNo+"</button>")):e.append('<button class="aOkButton" value="ok">'+
a.textOk+"</button>"):e.append('<button class="aOkButton" value="ok">Ok</button>');c.css("left",($(window).width()-$(".appriseOuter").width())/2+$(window).scrollLeft()+"px");a?(a.position&&"center"===a.position&&(b=(g-c.height())/2),a.animate?(h=a.animate,isNaN(h)&&(h=400),c.css("top","-200px").show().animate({top:b},h)):c.css("top",b).fadeIn(200)):c.css("top",b).fadeIn(200);$(document).keydown(function(a){l.is(":visible")&&(13==a.keyCode&&$('.aButtons > button[value="ok"]').click(),27==a.keyCode&&
$('.aButtons > button[value="cancel"]').click())});var d=$(".aTextbox").val();d||(d=!1);var i=!1,k=!0;if(a&&a.input&&a.validation)i=a.validation,m();$(".aTextbox").keyup(function(){!1==i?d=$(this).val():m()});$(".aButtons > button").click(function(){l.remove();c.remove();if(f){$(this).text("");var b=$(this).attr("value");"ok"==b?a?a.input?!1==i?f(d):!0==k&&f(d):f(!0):f(!0):"cancel"==b&&f(!1)}});a&&a.input&&$(".aTextbox").focus()};
